import matplotlib.pyplot as plt
import numpy as np
from   sklearn.preprocessing import QuantileTransformer

def plot_data (X, X_quantile):
	fig = plt.figure(figsize=(10,5))
	fig.subplots_adjust(wspace=0.3, hspace=0.35)

	ax1 = fig.add_subplot(221, title="Signal", ).plot(X)
	ax2 = fig.add_subplot(222, title="Signal after QT").plot(X_quantile)
	ax3 = fig.add_subplot(223, title="Signal histogram").hist(X)
	ax4 = fig.add_subplot(224, title="Signal hitogram after QT").hist(X_quantile)
	
	plt.show()

X = np.array(
	   [-0.23939151,  -0.23939151,  -0.57272485,  -0.23939151,
		 1.76060849,   4.26060849,   3.26060849,   1.92727515,
		 0.09394182,   2.09394182,   2.59394182,   1.76060849,
		 0.09394182,  -0.40605818,   0.59394182,   0.09394182,
		-0.40605818,  -0.90605818,  -0.57272485,  -1.40605818,
		-2.07272485,  -1.23939151,  -2.07272485,  -3.07272485,
		-1.07272485,  -2.57272485,  -1.57272485,  -1.73939151,
		-1.73939151,  -0.40605818,   2.76060849,   1.59394182,
		-0.07272485,  -0.73939151,   0.92727515,   1.92727515,
		 1.76060849,  -0.07272485,  -0.73939151,  -0.40605818,
		 2.09394182,   2.59394182,   2.09394182,   1.42727515,
		-0.40605818,   2.09394182,   0.59394182,  -0.40605818,
		-1.90605818,  -0.90605818,  -1.07272485,   1.09394182,
		 1.26060849,   1.09394182,  -0.07272485,  -0.40605818,
		 0.09394182,  -0.90605818,  -1.90605818,  -3.23939151,
		-1.40605818,  -0.07272485,  -2.40605818,  -3.73939151,
		-4.90605818,  -2.07272485,  -1.90605818,  -3.07272485,
		-0.90605818,   0.76060849,   1.92727515,   3.26060849,
		 2.09394182,   0.09394182,   0.09394182,   1.26060849,
		 1.26060849,   0.59394182,  -0.57272485,   1.09394182,
		 1.42727515,  -0.57272485,  -1.07272485,  -2.57272485,
		-3.07272485,  -1.40605818,   0.59394182,  -0.40605818,
		 1.09394182,   3.92727515,   3.26060849,   3.59394182,
		 1.92727515,   1.76060849,   2.09394182,   2.92727515,
		 0.76060849,   0.76060849,   2.09394182,   3.59394182,
		 3.42727515,   0.76060849,   0.42727515,   0.92727515,
		-0.07272485,   1.09394182,   1.59394182,  -1.07272485,
		-1.40605818,   1.09394182,   2.92727515,  -1.90605818,
		-0.23939151,  -0.07272485,   0.59394182,   1.09394182,
		 0.59394182,   0.59394182,   1.92727515,   5.59394182,
		 6.42727515,   3.42727515,   0.09394182,  -0.07272485,
		-1.90605818,  -1.73939151,  -0.90605818,  -2.90605818,
		-2.57272485,  -3.40605818,  -4.07272485,  -1.73939151,
		-1.07272485,  -2.57272485,  -1.73939151,  -0.73939151,
		 0.59394182,  -0.57272485,  -2.40605818,  -3.90605818,
		-2.90605818,  -4.23939151,  -3.40605818,  -1.90605818,
		-0.73939151,  -0.57272485,   0.09394182,  -2.23939151,
		-1.57272485,  -0.90605818,   0.26060849,   0.42727515,
		-1.07272485,  -2.90605818,   0.59394182,  -0.40605818,
		-1.40605818,  -5.73939151,  -3.23939151,  -3.40605818,
		-6.23939151, -10.07272485,  -1.57272485,  11.26060849,
		13.76060849,  13.76060849,   4.26060849,   0.76060849,
		-2.90605818,  -7.73939151, -10.07272485, -15.57272485,
	   -13.07272485,  -3.90605818,   6.59394182,  19.92727515,
		11.76060849, -16.73939151, -46.73939151, -12.40605818,
		14.59394182,  12.26060849,  11.09394182,   6.42727515,
		-1.57272485,  -1.40605818,   1.42727515,  -8.40605818,
		13.09394182,  31.92727515,   2.76060849,  -8.23939151,
	   -22.57272485, -21.23939151,  -2.40605818,  11.42727515,
		-9.07272485,  -1.57272485,   4.76060849,   3.26060849,
		 7.92727515,  44.26060849,  41.59394182,  24.92727515,
		 4.42727515, -22.07272485, -21.07272485, -19.07272485,
	   -22.23939151,   6.59394182,   2.42727515, -26.73939151,
	   -16.73939151, -17.07272485, -27.90605818, -15.57272485,
	   -16.23939151, -17.23939151, -43.07272485, -33.07272485,
	   -30.40605818, -52.73939151,  -7.23939151,   4.59394182,
		 1.42727515, -17.57272485, -28.23939151, -27.90605818,
	   -36.40605818, -58.23939151, -58.73939151, -33.23939151,
	   -15.90605818,  -8.40605818, -11.57272485, -10.23939151,
	   -18.90605818, -28.40605818, -33.73939151, -15.07272485,
	   -13.07272485, -16.07272485, -13.23939151, -17.07272485,
	   -10.73939151,  -6.90605818,  -5.73939151, -13.73939151,
	   -11.73939151, -12.90605818, -13.07272485,  -8.73939151,
		-5.90605818,  -7.73939151,  -6.57272485,  -7.40605818,
	   -10.23939151,  -7.40605818,  -5.40605818,  -1.40605818,
		-3.07272485,  -5.07272485,  -3.90605818,  -1.40605818,
		 3.59394182,   5.59394182,   6.76060849,   8.59394182,
		 6.26060849,   9.92727515,   9.42727515,   8.92727515,
		 8.26060849,   8.09394182,  10.92727515,   9.59394182,
		11.59394182,  13.59394182,  16.59394182,  16.42727515,
		18.09394182,  19.42727515,  20.09394182,  21.09394182,
		20.42727515,  20.76060849,  21.92727515,  21.42727515,
		25.42727515,  25.09394182,  22.92727515,  23.59394182,
		22.76060849,  23.26060849,  24.26060849,  25.76060849,
		23.42727515,  20.92727515,  17.92727515,  18.26060849,
		17.09394182,  15.59394182,  16.76060849,  17.92727515,
		17.42727515,  17.76060849,  17.59394182,  15.59394182,
		14.76060849,  15.76060849,  12.92727515,  11.59394182,
		11.26060849,  11.09394182,  12.76060849,  15.26060849,
		13.76060849,  10.59394182,   7.09394182,   8.26060849,
		 7.59394182,   7.59394182,   7.59394182,   7.26060849,
		 8.76060849,   9.26060849,  10.26060849,   9.92727515,
		10.09394182,  11.76060849,  10.59394182,   7.09394182,
		 6.42727515,   5.92727515,   5.42727515,   5.76060849,
		 6.59394182,   5.59394182,   1.59394182,   1.09394182,
		-1.07272485,   0.92727515,   3.09394182,   2.26060849,
		 3.26060849,   5.76060849,   5.42727515,   1.59394182,
		 2.76060849,   2.59394182,   1.59394182,   1.09394182,
		 0.76060849,   0.92727515,   1.59394182,   0.92727515,
		 2.59394182,   0.09394182,   2.09394182,   4.59394182,
		 5.76060849,   0.42727515,  -2.73939151,  -3.40605818,
		-2.23939151,  -3.57272485,  -4.23939151,  -4.73939151,
		-3.23939151,  -2.07272485,  -0.57272485,  -2.90605818,
		-3.07272485,  -2.40605818,  -1.07272485,   1.09394182,
		-0.07272485,  -1.07272485,  -0.57272485,  -0.73939151,
		-0.40605818,  -0.90605818,  -2.40605818,  -0.73939151,
		 0.09394182,   0.42727515,  -0.07272485,   0.42727515,
		-0.57272485,  -0.57272485,  -0.07272485,  -1.57272485,
		-1.90605818,  -2.40605818,  -0.23939151,   0.92727515,
		 1.76060849,  -0.40605818,  -2.23939151,  -2.73939151,
		-1.73939151,  -3.23939151,  -0.90605818,   0.42727515,
		-2.07272485,   1.26060849,   0.92727515,   0.92727515,
		 0.09394182,   0.09394182,  -0.73939151,  -1.73939151,
		-1.90605818,  -2.90605818,  -1.07272485,  -2.57272485,
		-0.90605818,  -0.57272485,  -0.07272485,   0.92727515])

QT = QuantileTransformer()
X_quantile = QT.fit_transform(X[:, np.newaxis])

# print (QT.quantiles_)
# print (QT.references_)

plot_data (X, X_quantile)
